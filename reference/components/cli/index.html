<!DOCTYPE html>

<html class="has-navbar-fixed-top">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="generator" content="Hugo 0.70.0" />
  <title>Command-line Interface | The Things Stack for LoRaWAN</title><link rel="canonical" href="https://www.thethingsindustries.com/docs/reference/components/cli/" />
  <link rel="alternate icon" href="/docs/favicon.ico">
  <link rel="alternate icon" type="image/png" href="/docs/favicon.png">
  <link rel="icon" type="image/svg+xml" href="/docs/favicon.svg">
  <link rel="stylesheet" href="https://www.thethingsindustries.com/docs/css/theme.min.87592179d2b736be842bb7a3dd97c7a09f561effecbfb81ec0a18685eb1bd4e0.css" integrity="sha256-h1khedK3Nr6EK7ej3ZfHoJ9WHv/sv7gewKGGhesb1OA=" crossorigin="anonymous">
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta itemprop="name" content="Command-line Interface">
  <meta itemprop="description" content="">
  <meta itemprop="keywords" content="">
  <meta property="og:title" content="Command-line Interface">
  <meta property="og:description" content="">
  <meta property="og:url" content="https://www.thethingsindustries.com/docs/reference/components/cli/">
  <meta name="twitter:title" content="Command-line Interface" />
  <meta name="twitter:description" content="" />
  <meta name="twitter:card" content="summary" />
</head>


<body>

<nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
  <div id="migration-info">
      <div id="migration-text">thethingsstack.io has moved to thethingsindustries.com/docs</div>
      <div id="migration-button" class="button is-primary">Got it</div>
  </div>
  <div class="container">
    <div class="navbar-brand">
      <a class="navbar-item" href="/docs/">
        <img class="logo" src="/docs/img/TTS-logo.svg">
        <p class="navbar-item is-size-7">v3.10</p>
      </a>
      <span class="navbar-burger burger" data-target="topMenu">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div id="topMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/docs/getting-started/">Getting Started</a>
        <a class="navbar-item" href="/docs/devices/">Devices</a>
        <a class="navbar-item" href="/docs/gateways/">Gateways</a>
        <a class="navbar-item" href="/docs/integrations/">Integrations</a>
        <a class="navbar-item" href="/docs/reference/">Reference</a>
      </div>
      <div class="navbar-end"><div class="navbar-item">
            <a class="button is-primary" href="/docs/download/">Get The Things Stack</a>
          </div>
      </div>
    </div>
  </div>
</nav>


<main>
<section class="section">
  <div class="container">
    <div class="columns">
      
      <div class="column is-one-third">


<h2 class="title is-size-4">Components</h2>

<ul class="menu-list">
<a href="https://www.thethingsindustries.com/docs/reference/components/" class="">Overview</a>
<li>
  <a href="https://www.thethingsindustries.com/docs/reference/components/application-server/" class="">Application Server</a>
</li>
<li>
  <a href="https://www.thethingsindustries.com/docs/reference/components/cli/" class="is-active">Command-line Interface</a>
</li>
<li>
  <a href="https://www.thethingsindustries.com/docs/reference/components/console/" class="">Console</a>
</li>
<li>
  <a href="https://www.thethingsindustries.com/docs/reference/components/device-template-converter/" class="">Device Template Converter</a>
</li>
<li>
  <a href="https://www.thethingsindustries.com/docs/reference/components/gateway-configuration-server/" class="">Gateway Configuration Server</a>
</li>
<li>
  <a href="https://www.thethingsindustries.com/docs/reference/components/gateway-server/" class="">Gateway Server</a>
</li>
<li>
  <a href="https://www.thethingsindustries.com/docs/reference/components/identity-server/" class="">Identity Server</a>
</li>
<li>
  <a href="https://www.thethingsindustries.com/docs/reference/components/join-server/" class="">Join Server</a>
</li>
<li>
  <a href="https://www.thethingsindustries.com/docs/reference/components/network-server/" class="">Network Server</a>
</li>
<li>
  <a href="https://www.thethingsindustries.com/docs/reference/components/packet-broker-agent/" class="">Packet Broker Agent</a>
</li>
<li>
  <a href="https://www.thethingsindustries.com/docs/reference/components/qr-code-generator/" class="">QR Code Generator</a>
</li>
<li>
  <a href="https://www.thethingsindustries.com/docs/reference/components/tenant-billing-server/" class="">Tenant Billing Server</a>
</li>
</ul>





      </div>
      
      <div class="column is-two-thirds">

<h1 class="title is-size-2">Command-line Interface


</h1>

<div class="content">

<p>The Command-line Interface (CLI) provides a cross-platform interface for managing components through the command-line.</p>
<h2 id="configuration">Configuration</h2>
<p>See the <a href="https://www.thethingsindustries.com/docs/reference/configuration/">Configuration Reference</a> for details on how the CLI can be configured. The different options are detailed in the <a href="https://www.thethingsindustries.com/docs/reference/configuration/cli/">CLI Configuration Reference</a>.</p>
<h2 id="help-for-commands">Help for Commands</h2>
<p>The CLI comes with builtin documentation. This documentation can be printed by adding the <code>-h</code> or <code>--help</code> flag to any command.</p>
<h2 id="command-aliases">Command Aliases</h2>
<p>Many CLI commands names have aliases, which are different spellings or shorter versions of the same command. For instance, <code>applications</code> commands can also be written as <code>application</code>, <code>apps</code>, <code>app</code> or even <code>a</code>. This could save you some typing if you frequently use the CLI.</p>
<div class="notification is-info is-light has-text-dark">
  <h5 class="title is-family-sans-serif has-text-dark mb-1">Note:</h5>
  For even less typing you could also register an alias for <code>ttn-lw-cli</code> itself (<code>alias tt=ttn-lw-cli</code>).
</div>
<h2 id="input-and-output-formats">Input and Output Formats</h2>
<p>By default the CLI outputs results as one or more JSON objects. These JSON objects are equivalent to the JSON objects that would be returned when using the HTTP API of The Things Stack. Some commands accept one or more JSON objects as input. These JSON objects are equivalent to the JSON objects that can be sent to the HTTP API. This way of handling input and output is used by the <a href="https://www.thethingsindustries.com/docs/devices/end-device-templates/">End Device Templates feature</a>.</p>
<p>The <code>--output-format</code> flag allows you to specify a <a href="https://golang.org/pkg/text/template/">Go template</a> that is executed for the result(s) of a command. The example below executes lists applications and outputs their IDs and names:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ttn-lw-cli applications list --name --output-format <span class="s2">&#34;{{ .ApplicationID }}: {{ .Name }}&#34;</span>
</code></pre></div><h2 id="login-and-logout">Login and Logout</h2>
<p>The <code>login</code> command starts the OAuth authorization flow with the configured OAuth server. By default this makes use of an endpoint on <code>localhost</code> for the OAuth callback. If you are not running the CLI on the machine that is <code>localhost</code>, you can add the flag <code>--callback=false</code> to the <code>login</code> command. This will disable the callback endpoint, and instead ask you to copy/paste the authorization code that you will receive from the OAuth server.</p>
<p>It is also possible to use an API key instead of OAuth. To do this, add the flag <code>--api-key=NNSXS.AAAA.BBBB</code> to the <code>login</code> command (replacing <code>NNSXS.AAAA.BBBB</code> with your API key).</p>
<p>Logging out of the CLI is done with the <code>logout</code> command, which will automatically invalidate the OAuth access token that was in use.</p>
<h2 id="entity-management">Entity Management</h2>
<p>In most cases the CLI be used to manage entities, such as applications, end devices or gateways. For each of these entities, the cli has <code>create</code>, <code>get</code>, <code>list</code>, <code>update</code> and <code>delete</code> commands.</p>
<h3 id="creating-entities">Creating Entities</h3>
<p>When creating an application or gateway, you need to specify a user or organization with the <code>--user-id</code> or <code>--organization-id</code> flag. This user or organization will be granted all rights on the new application or gateway.</p>
<p>When creating an end device, you need to specify an application in which the end device should be created.</p>
<p>All other flags correspond to the fields of the entity, as can be seen with the <code>--help</code> flag and in the <a href="https://www.thethingsindustries.com/docs/reference/api/">API Reference</a>.</p>
<h3 id="getting-or-listing-entities">Getting or Listing Entities</h3>
<p>When getting a single entity or listing entities, you need to provide flags for selecting the fields to fetch from the server. For performance reasons, list commands only allow a subset of fields (the fields stored in the <a href="/docs/reference/components/identity-server/">Identity Server</a>).</p>
<h3 id="updating-entities">Updating Entities</h3>
<p>When updating an entity, you provide flags for the fields that need to be updated. All other fields of the entitiy are left unchanged.</p>
<h3 id="deleting-entities">Deleting Entities</h3>
<p>Be careful when using the <code>delete</code> command, as it won&rsquo;t ask for confirmation.</p>
<h2 id="access-control">Access Control</h2>
<p>The CLI can be used to manage access control of entities. Managing collaborators is done with the <code>collaborators</code> commands (i.e. <code>ttn-lw-cli applications collaborators</code>) and managing API keys with the <code>api-keys</code> commands (i.e. <code>ttn-lw-cli applications api-keys</code>).</p>
<h3 id="collaborator-rights">Collaborator Rights</h3>
<p>Collaborator rights can be <code>set</code>, <code>list</code>ed or <code>delete</code>d. When setting collaborator rights, specify a user or organization with the <code>--user-id</code> or <code>--organization-id</code> flag and the flags for the rights that you want to assign. Use the <code>--help</code> or <code>-h</code> for more information on the available rights.</p>
<h3 id="api-keys">API Keys</h3>
<p>API keys can be <code>create</code>d, <code>list</code>ed, <code>update</code>d and <code>delete</code>d. Creating an API key is very similar to setting collaborator rights. Be aware that API keys are only shown once when they are created, and will never be shown again, so make sure to copy them to a safe place.</p>
<h2 id="uplink-traffic">Uplink Traffic</h2>
<p>The CLI can be used to subscribe to uplink traffic. See the <a href="https://www.thethingsindustries.com/docs/getting-started/cli/">Getting Started guide</a> for more details.</p>
<h2 id="downlink-queue">Downlink Queue</h2>
<p>The CLI can manage the downlink queue of end devices. See the <a href="https://www.thethingsindustries.com/docs/devices/downlink-queue-ops/">Downlink Queue Operations guide</a> for more details.</p>
<h2 id="events">Events</h2>
<p>The CLI can be used to subscribe to events. See the <a href="https://www.thethingsindustries.com/docs/getting-started/events/">Events guide</a> for more details.</p>
</div>


<div class="is-clearfix">
<a class="button is-pulled-left" href="/docs/reference/components/application-server/">← Application Server</a>
<a class="button is-pulled-right" href="/docs/reference/components/console/">Console →</a>
</div>


      </div>
    </div>
  </div>
</section>
</main>

<footer class="footer background-footer">
  <div class="container">
    <div class="columns">
      <nav class="column is-one-quarter">
        <h3 class="title is-6">The Things Stack</h3>
        <p><a class="" href="/docs/getting-started/">Getting Started</a></p>
        <p><a class="" href="/docs/devices/">Devices</a></p>
        <p><a class="" href="/docs/gateways/">Gateways</a></p>
        <p><a class="" href="/docs/integrations/">Integrations</a></p>
        <p><a class="" href="/docs/reference/">Reference</a></p>
      </nav>
      <nav class="column is-one-quarter">
        <h3 class="title is-6">Contributing</h3>
        <p><a class="" href="https://github.com/TheThingsIndustries/lorawan-stack-docs">GitHub</a></p>
        <p><a class="" href="https://www.thethingsnetwork.org/forum/c/network-and-routing/v3">Forum</a></p>
      </nav>
      
      <nav class="column is-one-quarter">
        <h3 class="title is-6">About Us</h3>
        <p><a class="" href="https://www.thethingsnetwork.org">The Things Network</a></p>
        <p><a class="" href="https://www.thethingsindustries.com">The Things Industries</a></p>
      </nav>
      <div class="column is-one-quarter">
        <h3 class="title is-6">About this page</h3>
        <div class="content">
<p class="is-size-7">
  Last changed by benolayinka on 26 Nov 2020.
  <br>
  <a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/commit/21da11257c965cc9e733dfee24ffc3ac4f2235fd">
      doc: Change info tags to note
    </a>
</p>

<a href="https://github.com/TheThingsIndustries/lorawan-stack-docs/blob/master/doc/content/reference/components/cli.md" class="button">Edit on Github</a>
</div>

      </div>
    </div>
  </div>
</footer>
<script src="https://www.thethingsindustries.com/docs/js/vendor/basicLightbox.min.js"></script>
<script src="https://www.thethingsindustries.com/docs/js/theme.min.e9df3c06e815b9686686212e86bfd0217a508f5ccee0139d7bc899ef7460191e.js" integrity="sha256-6d88BugVuWhmhiEuhr/QIXpQj1zO4BOde8iZ73RgGR4=" crossorigin="anonymous"></script>

</body>

</html>
